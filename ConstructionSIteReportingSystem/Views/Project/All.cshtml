@model IEnumerable<ProjectInfoViewModel>

@{
	ViewData["Title"] = "Projects";
	var projects = Model.ToArray();
}

<div class="mb-5">
	<h3 class="text-center">@ViewData["Title"]</h3>
</div>

<div class="accordion" id="accordionExample">
	@for (int i = 0; i < projects.Length; i++)
	{
		<div class="accordion-item">
			@{
				string collapseString = string.Concat("collapse", i.ToString());
			}

			<h2 class="accordion-header">
				<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#@collapseString" aria-expanded="true" aria-controls="@collapseString">
					@projects[i].Name
				</button>
			</h2>
			<div id=@collapseString class="accordion-collapse collapse" data-bs-parent="#accordionExample">
				<div class="accordion-body">
					<div class="btn-group" role="group" aria-label="Basic outlined example">
						<a asp-controller="InvestmentProject" asp-action="Project" asp-route-id="@projects[i].Id" class="btn btn-outline-primary" type="button">Investment project</a>
						<a asp-controller="ConstructionSite" asp-action="Site" asp-route-id="@projects[i].Id" class="btn btn-outline-primary" type="button">Construction site</a>
					</div>
				</div>
			</div>
		</div>
	}
</div>
